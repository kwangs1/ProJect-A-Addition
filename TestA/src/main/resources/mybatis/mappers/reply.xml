<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="mapper.reply">
	<resultMap type="ReplyVO" id="ReplyResult">
		<result property="rno" column="rno"/>
		<result property="bno" column="bno"/>
		<result property="writer" column="writer"/>
		<result property="content" column="content"/>
		<result property="reg_date" column="reg_date"/>
	</resultMap>
	

<select id="getReplyList" resultMap="ReplyResult">
	<![CDATA[
		select * from b_reply
		where bno = #{bno}
	]]>
</select>

<insert id="addReply" parameterType="ReplyVO">
	<selectKey resultType="int" keyProperty="rno" order="BEFORE">
		select seq_reply.nextval from dual
	</selectKey>
<![CDATA[
	insert into b_reply(rno, bno, content, writer)
	values(#{rno},#{bno},#{content},#{writer})
]]>
</insert>

<update id="updateReply" parameterType="ReplyVO">
	<![CDATA[
		update b_reply 
		set content = #{content}
		where rno = #{rno}
	]]>
</update>

<delete id="deleteReply" parameterType="int">
	<![CDATA[
		delete from b_reply
		where rno = #{rno}
	]]>
</delete>

</mapper>